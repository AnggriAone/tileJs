function Tile(d){var e=d;var c="rotateX( 0deg ) rotateY( 0deg ) translateZ( 0px )";var b=function(){e.style.webkitTransformOrigin="50% 50%";e.style.MozTransformOrigin="50% 50%";e.style.msTransformOrigin="50% 50%";e.style.oTransformOrigin="50% 50%";e.style.transformOrigin="50% 50%";e.parentElement.style.webkitTransformStyle="preserve-3d";e.parentElement.style.MozTransformStyle="preserve-3d";e.parentElement.style.msTransformStyle="preserve-3d";e.parentElement.style.oTransformStyle="preserve-3d";e.parentElement.style.transformStyle="preserve-3d";e.style.webkitTransition="-webkit-transform 0.08s";e.style.MozTransition="-moz-transform 0.08s";e.style.msTransition="-ms-transform 0.08s";e.style.oTransition="-o-transform 0.08s";e.style.transition="transform 0.08s";e.style.outline="1px solid transparent";e.addEventListener("mousedown",a,false)};var g=function(j,m){var k=e.offsetWidth;var h=e.offsetHeight;var l="perspective( 800px ) ";if(j>k/4&&j<(k/4*3)&&m>h/4&&m<(h/4*3)){l+="rotateX( 0deg ) rotateY( 0deg ) translateZ( -30px )"}else{if(Math.min(j,k-j)<Math.min(m,h-m)){if(j<k-j){l+="rotateX( 0deg ) rotateY( -20deg ) translateZ( 0px )"}else{l+="rotateX( 0deg ) rotateY( 20deg ) translateZ( 0px )"}}else{if(m<h-m){l+="rotateX( 20deg ) rotateY( 0deg ) translateZ( 0px )"}else{l+="rotateX( -20deg ) rotateY( 0deg ) translateZ( 0px )"}}}e.style.webkitTransform=l;e.style.MozTransform=l;e.style.msTransform=l;e.style.oTransform=l;e.style.transform=l;document.addEventListener("mouseup",f,false)};var a=function(j){var h=j.offsetX||(j.layerX-e.offsetLeft);var k=j.offsetY||(j.layerY-e.offsetTop);g(h,k)};var f=function(h){e.style.webkitTransform=c;e.style.MozTransform=c;e.style.msTransform=c;e.style.oTransform=c;e.style.transform=c;document.removeEventListener("mouseup",f,false)};b()}var tileElements=document.getElementsByClassName("metro-tile");var i;for(i=0;i<tileElements.length;i++){Tile(tileElements[i])};